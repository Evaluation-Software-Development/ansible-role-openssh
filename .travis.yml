---
#
# Ansible managed
#
language: python

python:
  - "3.8"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="alpine" tag="latest"
    - image="alpine" tag="edge"
    - image="amazonlinux" tag="1"
    - image="centos" tag="7"
    - image="centos" tag="latest"
    - image="debian" tag="latest"
    - image="debian" tag="bullseye"
    - image="fedora" tag="31"
    - image="fedora" tag="latest"
    - image="opensuse" tag="latest"
    - image="ubuntu" tag="latest"
    - image="ubuntu" tag="bionic"
    - image="ubuntu" tag="xenial"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - tox --parallel all

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack:
    secure: "ax5Cmtn2uFIp7mKrPXxvMWpj4PrYAkkn8iLnetghYXWLfVM0T6ek7M9Dshb1az6MjEJkeCKHRV5dPSHgmftWNbOdlpqxNFtTvG3sPL7lqZ25Fj/oM35xZSZSLq3xMpy6i3RWek3ZRFFiNIL1TFzz0AAW+L/ZNea44QA0vV/WP33NAzEHlV9ADrHh3Z8uvVlmYqCsyiyCHuV3YczH9M0UWA8m8C2ZKr6YmvokVIiqXFgIQQVvFwATVxh4dyMMyk0d9z5/uhU/sM7Ks9pLjfphSqe9SNmQTxtr/IRro9hoAl6JieEdbdOm6Ju2lD6EfParCMzcMjsAnHDnrn5nVGUQD5qJHjcQ+KP0eQtqHORgFLHXAbyNtZyquCbit4IuYfEWijKlOrVjrLlFcvgSyyLOVmP5GHVlVqk+asA+rzUxd0td5xgrnrWUO2Oxw4Mfc++iuI3IXWXEne8sknyh25MhAXs+iXz/kMPZY8EcR+RNltR7h1FqFqBVV4UqaZy9AIfhQX8mYoflfioT/A9h9NBzpN+DFcb5vAkWAWrjByIWHEJ3QaEXRbBLI0JpyfQxWiaWUUyYK5SeeYC1ENtvTJMPqXjvNjy+GCyZDdr0WxnHmvOvJbmFIWVoQC19HjuJy825v8oBCzwojR1QZ5KtT38gt3XyP0iJ7fsP0Y+kCJAWjMY="
  email: false
